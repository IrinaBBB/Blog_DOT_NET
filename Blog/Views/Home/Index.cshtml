@model MainPageViewModel
@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager

@{
    ViewData["Title"] = "Home Page";
}

<div class="row">
    <div class="col-md-8">
        <h2 class="h4 mb-4">Posts</h2>
        @foreach (var post in Model.Posts)
        {
            <h3 class="h5 m-0">@post.Title</h3>
            <div class="text-secondary">
                by
                @await UserManager.FindByIdAsync(post.OwnerId.ToString())
            </div>
                @if (post.Body.Length > 350)
                {
                <div>@post.Body[..350] ...</div>
                }
                else
                {
                    <div>@post.Body</div>
                }
            <div class="text-right"><a class="btn btn-link">Read more</a></div>
            <hr/>
            
        }
    </div>
    <div class="col-md-4">
        <h2 class="h4">Blogs</h2>
        <ul class="list-group">
            @foreach (var blog in Model.Blogs)
            {
                <li class="list-group-item">
                    <a style="text-transform: uppercase; cursor: pointer;"
                       class="stretched-link text-black">
                        @blog.Name by
                        @await UserManager.FindByIdAsync(blog.OwnerId.ToString())
                    </a>
                </li>
            }
        </ul>
    </div>
</div>